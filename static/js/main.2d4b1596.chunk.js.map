{"version":3,"sources":["redux/books/books.js","redux/configureStore.js","components/Categories.js","components/BookItem.js","components/BooksContainer.js","components/Form.js","App.js","components/Header.js","index.js"],"names":["baseUrl","apiId","ADD_BOOK","REMOVE_BOOK","LOAD_BOOKS","initialState","books","reducer","state","action","type","payload","filter","book","id","combineReducers","booksReducer","store","createStore","composeWithDevTools","applyMiddleware","logger","thunk","Categories","className","to","exact","BookItem","title","author","category","dispatch","useDispatch","onClick","a","body","item_id","axios","delete","BooksContainer","booksList","useSelector","useEffect","get","response","array","keys","Object","data","values","forEach","value","index","obj","splitArray","split","push","map","Form","useState","setTitle","setAuthor","setCategory","validate","errorPlace","document","getElementById","errorMsg","createElement","textContent","classList","add","querySelector","append","newBook","post","remove","placeholder","onChange","event","target","required","preventDefault","uuidv4","App","Header","style","fontSize","ReactDOM","render","StrictMode","basename","process","path","element"],"mappings":"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","file":"static/js/main.2d4b1596.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = 'https://us-central1-bookstore-api-e63c8.cloudfunctions.net/bookstoreApi';\nconst apiId = '7bITS9pnop0z4L5ssJm1';\nconst ADD_BOOK = 'bookStore/books/ADD_BOOK';\nconst REMOVE_BOOK = 'bookStore/books/REMOVE_BOOK';\nconst LOAD_BOOKS = 'bookStore/books/LOAD_BOOKS';\n\nconst initialState = { books: [] };\n\nexport const loadBooks = () => async (dispatch) => {\n  const response = await axios.get(`${baseUrl}/apps/${apiId}/books`);\n  const array = [];\n  const keys = Object.keys(response.data);\n  const values = Object.values(response.data);\n  values.forEach((value, index) => {\n    const obj = value[0];\n    const splitArray = obj.title.split('&&&');\n    const book = {\n      title: splitArray[0],\n      author: splitArray[1],\n      id: keys[index],\n      category: obj.category,\n    };\n\n    array.push(book);\n  });\n\n  dispatch({\n    type: LOAD_BOOKS,\n    payload: array,\n  });\n};\n\nexport const addBook = (payload) => async (dispatch) => {\n  const newBook = {\n    item_id: `${payload.id}`,\n    title: `${payload.title}&&&${payload.author}`,\n    category: `${payload.category}`,\n  };\n  await axios.post(`${baseUrl}/apps/${apiId}/books`, newBook);\n  dispatch({\n    type: ADD_BOOK,\n    payload,\n  });\n};\n\nexport const removeBook = (payload) => async (dispatch) => {\n  const body = {\n    item_id: payload,\n  };\n  await axios.delete(`${baseUrl}/apps/${apiId}/books/${payload}`, body);\n  dispatch({\n    type: REMOVE_BOOK,\n    payload,\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_BOOK:\n\n      return { books: [...state.books, action.payload] };\n\n    case REMOVE_BOOK:\n      return { books: state.books.filter((book) => book.id !== action.payload) };\n\n    case LOAD_BOOKS:\n      return { books: action.payload };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport booksReducer from './books/books';\n\nconst reducer = combineReducers({\n  booksReducer,\n  // additional reducers could be added here\n});\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(logger, thunk)));\n\nexport default store;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Categories = () => (\n\n  <div className=\"mt-5\">\n    <div className=\"pt-5 pt-md-0\">Under construction</div>\n\n    <Link to=\"/\" className=\"text-header\" exact>\n      back\n    </Link>\n  </div>\n);\n\nexport default Categories;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport { removeBook } from '../redux/books/books';\n\nconst BookItem = ({\n  id, title, author, category,\n}) => {\n  const dispatch = useDispatch();\n  const handleRemove = () => dispatch(removeBook(id));\n\n  return (\n    <div className=\"card pe-5\">\n      <div className=\"row mx-0 py-4 justify-content-between align-items-center ps-4 pe-5\">\n        <div className=\"col-md-6\">\n          <p className=\"fw-bold opacity-50 mb-0\">{category}</p>\n          <p className=\"fw-bold robotoslab fs-2 mb-0\">{title}</p>\n          <button type=\"button\" className=\"link-primary border-0 bg-white p-0 mb-3\">\n            {author}\n          </button>\n          <div className=\"row row-cols-auto mx-0 g-0\">\n            <button type=\"button\" className=\"link-primary border-0 bg-white\">\n              Comments\n            </button>\n            <div className=\"line-v px-0 mx-3\" />\n            <button type=\"button\" className=\"link-primary border-0 bg-white\" onClick={handleRemove}>\n              Remove\n            </button>\n            <div className=\"line-v px-0 mx-3\" />\n            <button type=\"button\" className=\"link-primary border-0 bg-white\">\n              Edit\n            </button>\n          </div>\n        </div>\n        <div className=\"col-md-3 d-flex flex-column justify-content-center\">\n          <div className=\"row row-cols-auto mx-0 g-0 justify-content-center align-items-center py-3 py-md-0\">\n            <div className=\"col-2 col-md-5\" />\n            <div className=\"col-7\">\n              <p className=\"fs-2 mb-0\">\n                38%\n              </p>\n              <p className=\"opacity-50 small mb-2\">Completed</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-2 robotoslab\">\n          <p className=\"mb-2 opacity-50\">CURRENT CHAPTER</p>\n          <p>\n            Chapter 18\n          </p>\n          <button type=\"button\" className=\"btn btn-primary px-3\">\n            <span className=\"opacity-50 small\">UPDATE PROGRESS</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\nBookItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  category: PropTypes.string.isRequired,\n};\n\nexport default BookItem;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadBooks } from '../redux/books/books';\nimport BookItem from './BookItem';\n\nconst BooksContainer = () => {\n  const dispatch = useDispatch();\n\n  const booksList = useSelector((state) => state.booksReducer.books);\n\n  useEffect(() => {\n    dispatch(loadBooks());\n  }, [dispatch]);\n\n  return (\n    <div>\n      <ul className=\"list-unstyled row mx-0 g-0 gy-3\">\n        {booksList.map((book) => (\n          <li key={book.id}>\n            <BookItem\n              id={book.id}\n              title={book.title}\n              author={book.author}\n              category={book.category}\n            />\n\n          </li>\n        ))}\n      </ul>\n      <div className=\"line-h my-5\" />\n\n    </div>\n  );\n};\n\nexport default BooksContainer;\n","import React, { useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useDispatch } from 'react-redux';\nimport { addBook } from '../redux/books/books';\n\nconst Form = () => {\n  const dispatch = useDispatch();\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [category, setCategory] = useState('Fantasy');\n\n  const resetFields = () => {\n    setAuthor('');\n    setTitle('');\n    setCategory('Fantasy');\n  };\n\n  const validate = (book) => {\n    if (title === '' || author === '') {\n      const errorPlace = document.getElementById('errPlace');\n      const errorMsg = document.createElement('small');\n      errorMsg.textContent = 'All fields are required';\n      errorMsg.classList.add('text-black-50', 'mt-3', 'error');\n\n      if (document.querySelector('.error') === null) {\n        errorPlace.append(errorMsg);\n      }\n    } else {\n      dispatch(addBook(book));\n      resetFields();\n      if (document.querySelector('.error') !== null) {\n        document.querySelector('.error').remove();\n      }\n    }\n  };\n\n  const submitBookToStore = (event) => {\n    event.preventDefault();\n    const newBook = {\n      id: uuidv4(), // make sure it's unique\n      title,\n      author,\n      category,\n    };\n    event.preventDefault();\n    validate(newBook);\n  };\n\n  return (\n    <div className=\"px-3 pt- pb-md-5 mb-md-5\">\n      <h2 className=\"h4 fw-bold text-muted\"> ADD NEW BOOK</h2>\n      <form className=\"row mx-0 g-0 justify-content-between pb-5 pb-md-0\" id=\"\">\n        <div className=\"col-md-3\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Book title\"\n            value={title}\n            onChange={(event) => setTitle(event.target.value)}\n            required\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Book author\"\n            value={author}\n            onChange={(event) => setAuthor(event.target.value)}\n            required\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <select\n            className=\"col-3 form-select try \"\n            value={category}\n            onChange={(event) => setCategory(event.target.value)}\n          >\n\n            <option>Fantasy</option>\n            <option>Science Fiction</option>\n            <option>Education</option>\n            <option>Thriller</option>\n            <option>Horror</option>\n            <option>Classics</option>\n\n          </select>\n        </div>\n        <div className=\"col-md-2 pb-5 pb-md-0\">\n          <button type=\"submit\" className=\"btn btn-primary w-100\" onClick={submitBookToStore}>\n            <span className=\"font-robotoslab small px-3\">ADD BOOK</span>\n          </button>\n        </div>\n      </form>\n      <div id=\"errPlace\" />\n    </div>\n  );\n};\nexport default Form;\n","import React from 'react';\nimport './App.css';\nimport BooksContainer from './components/BooksContainer';\nimport Form from './components/Form';\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <BooksContainer />\n      <Form />\n    </div>\n  );\n}\n\nexport default App;\n","import { AiOutlineMenu } from 'react-icons/ai';\nimport { FaUserCircle } from 'react-icons/fa';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = () => (\n  <header className=\"border-bottom py-2 bg-white mb-3 mb-md-5\">\n    <nav className=\"navbar navbar-expand-md bg-white py-md-3 px-md-5 align-items-center justify-content-center \">\n      <div className=\"container\">\n        <span className=\"navbar-brand text-primary fw-bold fs-3 pe-md-3\">Bookstore CMS</span>\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <AiOutlineMenu style={{ fontSize: '25px' }} />\n        </button>\n        <div className=\"collapse navbar-collapse justify-content-between\" id=\"navbarNav\">\n          <ul className=\"navbar-nav align-items-end line fw-light lh-1 position-relative nav-items-top\">\n\n            <li className=\"nav-item\">\n              <NavLink to=\"/\" className=\"nav-link me-4 text-black-50\">\n                BOOKS\n              </NavLink>\n            </li>\n            <li className=\"nav-item\">\n              <NavLink to=\"categories\" className=\"nav-link text-black-50 \" exact>\n                CATEGORIES\n              </NavLink>\n            </li>\n\n          </ul>\n          <div className=\"\">\n            <FaUserCircle className=\"text-primary center-block\" style={{ fontSize: '2.5rem' }} />\n          </div>\n        </div>\n      </div>\n    </nav>\n  </header>\n);\n\nexport default Header;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport store from './redux/configureStore';\nimport Categories from './components/Categories';\nimport './index.css';\nimport App from './App';\nimport Header from './components/Header';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <div className=\"container-fluid min-vh-100 bg-light\">\n          <Header />\n          <Routes>\n            <Route path=\"/\" element={<App />} />\n            <Route path=\"categories\" element={<Categories />} />\n          </Routes>\n        </div>\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}